{% extends 'base.html' %}
{% load staticfiles %}

{% block title %}
  文章详情
{% endblock %}

{% block content %}
  <div class="col-sm-8 col-sm-offset-2">
    <div>
      <header>
        <h1>{{ article.title }}</h1>
        <p>{{ article.author.username }}</p>
      </header>
      <link rel="stylesheet" href="{% static 'editor/css/editormd.preview.min.css' %}">
      <div id="editormd-view">
        <textarea id="append-test" style="display: none">{{ article.body }}</textarea>
      </div>
    </div>
  </div>
  <script src="https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js"></script>
  <script src="{% static 'editor/lib/marked.min.js' %}"></script>
  <script src="{% static 'editor/lib/prettify.min.js' %}"></script>
  <script src="{% static 'editor/lib/raphael.min.js' %}"></script>
  <script src="{% static 'editor/lib/underscore.min.js' %}"></script>
  <script src="{% static 'editor/lib/sequence-diagram.min.js' %}"></script>
  <script src="{% static 'editor/lib/flowchart.min.js' %}"></script>
  <script src="{% static 'editor/lib/jquery.flowchart.min.js' %}"></script>
  <script src="{% static 'editor/editormd.min.js' %}"></script>

  <script type="text/javascript">
      $(function () {
          editormd.markdownToHTML("editormd-view", {
              htmlDecode: "style, script, iframe",
              emoji: true,
              taskList: true,
              tex: true,
              flowChart: true,
              sequeceDiagram: true,
          });
      });
  </script>
{% endblock %}